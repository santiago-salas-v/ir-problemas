<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>


      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"><!--
This HTML was auto-generated from MATLAB code.
To make changes, update the MATLAB code and republish this document.
      --><title>obtenerDatos</title>
   <meta name="generator" content="MATLAB 7.13"><link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"><meta name="DC.date" content="2013-12-08"><meta name="DC.source" content="obtenerDatos.m"><style type="text/css">

body {
  background-color: white;
  margin:10px;
}

h1 {
  color: #990000; 
  font-size: x-large;
}

h2 {
  color: #990000;
  font-size: medium;
}

/* Make the text shrink to fit narrow windows, but not stretch too far in 
wide windows. */ 
p,h1,h2,div.content div {
  max-width: 600px;
  /* Hack for IE6 */
  width: auto !important; width: 600px;
}

pre.codeinput {
  background: #EEEEEE;
  padding: 10px;
}
@media print {
  pre.codeinput {word-wrap:break-word; width:100%;}
} 

span.keyword {color: #0000FF}
span.comment {color: #228B22}
span.string {color: #A020F0}
span.untermstring {color: #B20000}
span.syscmd {color: #B28C00}

pre.codeoutput {
  color: #666666;
  padding: 10px;
}

pre.error {
  color: red;
}

p.footer {
  text-align: right;
  font-size: xx-small;
  font-weight: lighter;
  font-style: italic;
  color: gray;
}

  </style></head><body><div class="content"><pre class="codeinput"><span class="keyword">function</span> Datos_struct = obtenerDatos(Datos)

Datos_struct.Tipo = Datos{strcmp(Datos,<span class="string">'Tipo'</span>),2};
Datos_struct.Incompresible = Datos{strcmp(Datos,<span class="string">'Incompresible'</span>),2};
Datos_struct.Isot = Datos{strcmp(Datos,<span class="string">'Isot'</span>),2};
<span class="keyword">if</span> strcmp(Datos_struct.Tipo,<span class="string">'PFR'</span>)||<span class="keyword">...</span>
        strcmp(Datos_struct.Tipo,<span class="string">'CSTR'</span>)
    Datos_struct.Estacionario = Datos{strcmp(Datos,<span class="string">'Estacionario'</span>),2};
<span class="keyword">else</span>
    Datos_struct.Estacionario = true;
<span class="keyword">end</span>
Datos_struct.Coefs_esteq = eval(Datos{strcmp(Datos,<span class="string">'Coefs_esteq'</span>),2});
Datos_struct.nReacs=size(Datos_struct.Coefs_esteq,1);
Datos_struct.nComps=size(Datos_struct.Coefs_esteq,2);
Datos_struct.delta_Hf = reshape(eval(Datos{strcmp(Datos,<span class="string">'delta_Hf'</span>),2})*<span class="keyword">...</span>
    1000,1,Datos_struct.nComps);
Datos_struct.delta_Hr_0 = reshape(Datos_struct.Coefs_esteq*<span class="keyword">...</span>
    Datos_struct.delta_Hf',1,Datos_struct.nReacs);
Datos_struct.E = reshape(eval(Datos{strcmp(Datos,<span class="string">'E'</span>),2}),1,<span class="keyword">...</span>
    Datos_struct.nReacs);
Datos_struct.k0 = reshape(eval(Datos{strcmp(Datos,<span class="string">'k0'</span>),2}),1,<span class="keyword">...</span>
    Datos_struct.nReacs);
Datos_struct.T0ref = Datos{strcmp(Datos,<span class="string">'T0ref'</span>),2};
Datos_struct.Exponentes_r = eval(Datos{strcmp(Datos,<span class="string">'Exponentes_r'</span>),2});
Datos_struct.Ref_Rendimiento = Datos{strcmp(Datos,<span class="string">'Ref_Rendimiento'</span>),2};
Datos_struct.Ref_Selectividad = Datos{strcmp(Datos,<span class="string">'Ref_Selectividad'</span>),2};
Datos_struct.C0 = eval(Datos{strcmp(Datos,<span class="string">'C0'</span>),2});
Datos_struct.C0 = reshape(Datos_struct.C0,1,numel(Datos_struct.C0));
Datos_struct.T0 = Datos{strcmp(Datos,<span class="string">'T0'</span>),2};
<span class="keyword">if</span> strcmp(Datos_struct.Tipo,<span class="string">'SEMIBR'</span>)||<span class="keyword">...</span>
        strcmp(Datos_struct.Tipo,<span class="string">'CSTR'</span>)
    Datos_struct.C_t0 = eval(Datos{strcmp(Datos,<span class="string">'C_t0'</span>),2});
    Datos_struct.C_t0 = <span class="keyword">...</span>
        reshape(Datos_struct.C_t0,1,numel(Datos_struct.C_t0));
    Datos_struct.T_t0 = Datos{strcmp(Datos,<span class="string">'T_t0'</span>),2};
<span class="keyword">end</span>
Datos_struct.Longitud = Datos{strcmp(Datos,<span class="string">'Longitud'</span>),2};
Datos_struct.Diam = Datos{strcmp(Datos,<span class="string">'Diam'</span>),2};
Datos_struct.Vr = Datos_struct.Longitud*pi/4*Datos_struct.Diam^2*1/1000;
Datos_struct.U = Datos{strcmp(Datos,<span class="string">'U'</span>),2}*1055*1/60*9/5;
Datos_struct.Ta0 = Datos{strcmp(Datos,<span class="string">'Ta0'</span>),2};
Datos_struct.Diam_a = Datos{strcmp(Datos,<span class="string">'Diam_a'</span>),2};
Datos_struct.Qa0 = Datos{strcmp(Datos,<span class="string">'Qa0'</span>),2};
Datos_struct.uza = Datos_struct.Qa0*1000/<span class="keyword">...</span>
    (pi/4*(Datos_struct.Diam_a^2-Datos_struct.Diam^2));
<span class="keyword">if</span> strcmp(Datos_struct.Tipo,<span class="string">'PFR'</span>)
    Datos_struct.Co_Corriente = Datos{strcmp(Datos,<span class="string">'Co_Corriente'</span>),2};
    <span class="keyword">if</span> Datos_struct.Co_Corriente
        Datos_struct.factorCoContraCorriente = +1;
    <span class="keyword">else</span>
        Datos_struct.factorCoContraCorriente = -1;
    <span class="keyword">end</span>
    Datos_struct.a = 4/Datos_struct.Diam*1/30.48^2*1000;
    Datos_struct.Q0 = Datos{strcmp(Datos,<span class="string">'Q0'</span>),2};
    Datos_struct.theta = Datos_struct.Vr/Datos_struct.Q0;
    Datos_struct.uz=Datos_struct.Q0*1000/(pi/4*Datos_struct.Diam^2);
    Datos_struct.timestep_factor = Datos{strcmp(Datos,<span class="string">'timestep_factor'</span>),2};
<span class="keyword">elseif</span> strcmp(Datos_struct.Tipo,<span class="string">'CSTR'</span>)
    Datos_struct.Longitud = 1.5*Datos_struct.Diam;
    Datos_struct.A = pi*Datos_struct.Diam*Datos_struct.Longitud*1/30.48^2;
    Datos_struct.Q0 = Datos{strcmp(Datos,<span class="string">'Q0'</span>),2};
    Datos_struct.theta = Datos_struct.Vr/Datos_struct.Q0;
    Datos_struct.uz=Datos_struct.Q0*1000/(pi/4*Datos_struct.Diam^2);
    Datos_struct.Va = Datos_struct.Longitud*<span class="keyword">...</span>
        pi/4*(Datos_struct.Diam_a^2-Datos_struct.Diam^2)*1/1000;
    Datos_struct.Tmax = Datos{strcmp(Datos,<span class="string">'Tmax'</span>),2};
<span class="keyword">elseif</span> strcmp(Datos_struct.Tipo,<span class="string">'BR'</span>)
    Datos_struct.Longitud = 1.5*Datos_struct.Diam;
    Datos_struct.A = pi*Datos_struct.Diam*Datos_struct.Longitud*1/30.48^2;
    Datos_struct.Va = Datos_struct.Longitud*<span class="keyword">...</span>
        pi/4*(Datos_struct.Diam_a^2-Datos_struct.Diam^2)*1/1000;
<span class="keyword">elseif</span> strcmp(Datos_struct.Tipo,<span class="string">'SEMIBR'</span>)
    Datos_struct.Longitud = 1.5*Datos_struct.Diam;
    Datos_struct.A = pi*Datos_struct.Diam*Datos_struct.Longitud*1/30.48^2;
    Datos_struct.Q0 = Datos{strcmp(Datos,<span class="string">'Q0'</span>),2};
    Datos_struct.theta = Datos_struct.Vr/Datos_struct.Q0;
    Datos_struct.uz=Datos_struct.Q0*1000/(pi/4*Datos_struct.Diam^2);
    Datos_struct.Va = Datos_struct.Longitud*<span class="keyword">...</span>
        pi/4*(Datos_struct.Diam_a^2-Datos_struct.Diam^2)*1/1000;
<span class="keyword">end</span>
Datos_struct.CpMolares = eval(Datos{strcmp(Datos,<span class="string">'Cp_Molares'</span>),2})*1000;
Datos_struct.rhoCp_a = Datos{strcmp(Datos,<span class="string">'rhoCp_a'</span>),2}*1000;
Datos_struct.tiempo_tot = Datos{strcmp(Datos,<span class="string">'tiempo_tot'</span>),2};
Datos_struct.R = 8.3140;

Datos_struct.XMIN = Datos{strcmp(Datos,<span class="string">'XMIN'</span>),2};
Datos_struct.XMAX = Datos{strcmp(Datos,<span class="string">'XMAX'</span>),2};
Datos_struct.YMIN = Datos{strcmp(Datos,<span class="string">'YMIN'</span>),2};
Datos_struct.YMAX = Datos{strcmp(Datos,<span class="string">'YMAX'</span>),2};
Datos_struct.ZMIN = Datos{strcmp(Datos,<span class="string">'ZMIN'</span>),2};
Datos_struct.ZMAX = Datos{strcmp(Datos,<span class="string">'ZMAX'</span>),2};

characters=char(65:90);
Datos_struct.labels=cell(1,min(length(characters),<span class="keyword">...</span>
    size(Datos_struct.Coefs_esteq,2)));
Datos_struct.labels_est=cell(1,min(length(characters),<span class="keyword">...</span>
    size(Datos_struct.Coefs_esteq,2)));
<span class="keyword">for</span> i=1:length(Datos_struct.labels)
    Datos_struct.labels{i}=characters(i);
<span class="keyword">end</span>
<span class="keyword">for</span> i=1:length(Datos_struct.labels_est)
    Datos_struct.labels_est{i}=[characters(i),<span class="string">'est'</span>];
<span class="keyword">end</span>

<span class="comment">%</span>
<span class="comment">% Análisis reactivos - productos</span>
encontrarReactivos = find(Datos_struct.Coefs_esteq&lt;0);
[~,reactivosSonCompsNo] = ind2sub(size(Datos_struct.Coefs_esteq),<span class="keyword">...</span>
    encontrarReactivos);
encontrarProductos = find(Datos_struct.Coefs_esteq&gt;0);
[~,productosSonCompsNo] = ind2sub(size(Datos_struct.Coefs_esteq),<span class="keyword">...</span>
    encontrarProductos);
Datos_struct.reactivosSonCompsNo=unique(reactivosSonCompsNo);
Datos_struct.productosSonCompsNo=unique(productosSonCompsNo);
Datos_struct.productosConSelectividad=Datos_struct.productosSonCompsNo(<span class="keyword">...</span>
        Datos_struct.productosSonCompsNo~=<span class="keyword">...</span>
        Datos_struct.Ref_Selectividad);
<span class="keyword">if</span> isempty(Datos_struct.Ref_Selectividad)||<span class="keyword">...</span>
        ~ismember(Datos_struct.Ref_Selectividad,<span class="keyword">...</span>
        Datos_struct.productosSonCompsNo)
    Datos{strcmp(Datos,<span class="string">'Ref_Selectividad'</span>),2}=<span class="keyword">...</span>
        Datos_struct.productosSonCompsNo(1);
    Datos_struct.Ref_Selectividad=Datos_struct.productosSonCompsNo(1);
<span class="keyword">end</span>
<span class="keyword">if</span> isempty(Datos_struct.Ref_Rendimiento)||<span class="keyword">...</span>
        ~ismember(Datos_struct.Ref_Rendimiento,<span class="keyword">...</span>
        Datos_struct.reactivosSonCompsNo)
    Datos{strcmp(Datos,<span class="string">'Ref_Rendimiento'</span>),2}=<span class="keyword">...</span>
        Datos_struct.reactivosSonCompsNo(1);
    Datos_struct.Ref_Rendimiento=Datos_struct.reactivosSonCompsNo(1);
<span class="keyword">end</span>


<span class="comment">%</span>
<span class="comment">% Variables Dep</span>
VariablesDep = cell(1,4);

Row=0+1;
<span class="keyword">if</span> strcmp(Datos_struct.Tipo,<span class="string">'CSTR'</span>)
    VariablesDep{Row,1}=<span class="string">'ESTACIONARIO'</span>;
    VariablesDep{Row,2}=<span class="string">'NA'</span>;
    VariablesDep{Row,4}=<span class="string">''</span>;
    Row=Row+1;
<span class="keyword">end</span>
VariablesDep{Row,1}=<span class="string">'[C]'</span>;
VariablesDep{Row,2}=<span class="string">'gmol/L'</span>;
VariablesDep{Row,4}=<span class="string">'CONCENTRACION'</span>;
<span class="keyword">for</span> i=1:Datos_struct.nComps
    Row=Row+1;
    VariablesDep{Row,1}=[<span class="string">'C'</span>,Datos_struct.labels{i}];
    VariablesDep{Row,2}=VariablesDep{Row-i,2};
<span class="keyword">end</span>
Row=Row+1;
VariablesDep{Row,1}=<span class="string">'[T]'</span>;
VariablesDep{Row,2}=<span class="string">'K'</span>;
VariablesDep{Row,4}=<span class="string">'TEMPERATURA'</span>;
Row=Row+1;
VariablesDep{Row,1}=<span class="string">'T'</span>;
VariablesDep{Row,2}=VariablesDep{Row-1,2};
Row=Row+1;
VariablesDep{Row,1}=<span class="string">'Ta'</span>;
VariablesDep{Row,2}=VariablesDep{Row-1,2};
Row=Row+1;
VariablesDep{Row,1}=<span class="string">'[r]'</span>;
VariablesDep{Row,2}=<span class="string">'mol/(L*min)'</span>;
VariablesDep{Row,4}=<span class="string">'RAPIDEZ'</span>;
<span class="keyword">for</span> i=1:Datos_struct.nReacs
    Row=Row+1;
    VariablesDep{Row,1}=[<span class="string">'r'</span>,int2str(i)];
    VariablesDep{Row,2}=VariablesDep{Row-i,2};
<span class="keyword">end</span>
Row=Row+1;
VariablesDep{Row,1}=<span class="string">'[k]'</span>;
VariablesDep{Row,2}=<span class="string">'(1/min){\times}(gmol/L)^{(1-{\Sigma}_j({\alpha}_{ij}))}'</span>;
VariablesDep{Row,4}=<span class="string">'CONSTANTE DE RAPIDEZ'</span>;
<span class="keyword">for</span> i=1:Datos_struct.nReacs
    Row=Row+1;
    VariablesDep{Row,1}=[<span class="string">'k'</span>,int2str(i)];
    VariablesDep{Row,2}=[<span class="string">'(1/min){\times}(gmol/L)^{'</span>,<span class="keyword">...</span>
        num2str(1-sum(Datos_struct.Exponentes_r(i,:))),<span class="string">'}'</span>];
<span class="keyword">end</span>
Row=Row+1;
VariablesDep{Row,1}=<span class="string">'[q]'</span>;
VariablesDep{Row,2}=<span class="string">'K/min'</span>;
VariablesDep{Row,4}=<span class="string">'CALOR/rhoCp'</span>;
Row=Row+1;
VariablesDep{Row,1}=<span class="string">'qgen'</span>;
VariablesDep{Row,2}=VariablesDep{Row-1,2};
Row=Row+1;
VariablesDep{Row,1}=<span class="string">'qrem'</span>;
VariablesDep{Row,2}=VariablesDep{Row-1,2};
<span class="keyword">if</span> strcmp(Datos_struct.Tipo,<span class="string">'PFR'</span>)
    Row=Row+1;
    VariablesDep{Row,1}=<span class="string">'[q_z]'</span>;
    VariablesDep{Row,2}=<span class="string">'K/cm'</span>;
    VariablesDep{Row,4}=<span class="string">'CALOR/rhoCp*Az/Q'</span>;
    Row=Row+1;
    VariablesDep{Row,1}=<span class="string">'qgen_z'</span>;
    VariablesDep{Row,2}=VariablesDep{Row-1,2};
    Row=Row+1;
    VariablesDep{Row,1}=<span class="string">'qrem_z'</span>;
    VariablesDep{Row,2}=VariablesDep{Row-1,2};
<span class="keyword">end</span>
Row=Row+1;
VariablesDep{Row,1}=<span class="string">'[X]'</span>;
VariablesDep{Row,2}=<span class="string">'[adim]'</span>;
VariablesDep{Row,4}=<span class="string">'CONVERSION'</span>;
<span class="keyword">for</span> i=1:length(Datos_struct.reactivosSonCompsNo)
    Row=Row+1;
    VariablesDep{Row,1}=[<span class="string">'X'</span>,<span class="keyword">...</span>
        Datos_struct.labels{Datos_struct.reactivosSonCompsNo(i)}];
    VariablesDep{Row,2}=VariablesDep{Row-i,2};
<span class="keyword">end</span>
Row=Row+1;
VariablesDep{Row,1}=<span class="string">'[Y]'</span>;
VariablesDep{Row,2}=<span class="string">'[adim]'</span>;
VariablesDep{Row,4}=<span class="string">'RENDIMIENTO POR ALIMENTACIÓN'</span>;
<span class="keyword">for</span> i=1:length(Datos_struct.productosSonCompsNo)
    Row=Row+1;
    VariablesDep{Row,1}=[<span class="string">'Y'</span>,<span class="keyword">...</span>
        Datos_struct.labels{Datos_struct.productosSonCompsNo(i)}];
    VariablesDep{Row,2}=<span class="string">'[adim]'</span>;
<span class="keyword">end</span>
Row=Row+1;
VariablesDep{Row,1}=<span class="string">'[Yconsumo]'</span>;
VariablesDep{Row,2}=<span class="string">'[adim]'</span>;
VariablesDep{Row,4}=<span class="string">'RENDIMIENTO POR CONSUMO'</span>;
<span class="keyword">for</span> i=1:length(Datos_struct.productosSonCompsNo)
    Row=Row+1;
    VariablesDep{Row,1}=[<span class="string">'Yconsumo'</span>,<span class="keyword">...</span>
        Datos_struct.labels{Datos_struct.productosSonCompsNo(i)}];
    VariablesDep{Row,2}=<span class="string">'[adim]'</span>;
<span class="keyword">end</span>
Row=Row+1;
VariablesDep{Row,1}=<span class="string">'[S]'</span>;
VariablesDep{Row,2}=<span class="string">'[adim]'</span>;
VariablesDep{Row,4}=<span class="string">'SELECTIVIDAD'</span>;
<span class="keyword">for</span> i=1:length(Datos_struct.productosConSelectividad)
    Row=Row+1;
    VariablesDep{Row,1}=[<span class="string">'S'</span>,<span class="keyword">...</span>
        Datos_struct.labels{Datos_struct.productosConSelectividad(i)}];
    VariablesDep{Row,2}=<span class="string">'[adim]'</span>;
<span class="keyword">end</span>

<span class="keyword">if</span> strcmp(Datos_struct.Tipo,<span class="string">'PFR'</span>)
    Row=Row+1;
    VariablesDep{Row,1}=<span class="string">'[F]'</span>;
    VariablesDep{Row,2}=<span class="string">'gmol/min'</span>;
    VariablesDep{Row,4}=<span class="string">'FLUJO MOLAR'</span>;
    <span class="keyword">for</span> i=1:Datos_struct.nComps
        Row=Row+1;
        VariablesDep{Row,1}=[<span class="string">'F'</span>,Datos_struct.labels{i}];
        VariablesDep{Row,2}=VariablesDep{Row-i,2};
    <span class="keyword">end</span>
<span class="keyword">end</span>

Row=Row+1;
VariablesDep{Row,1}=<span class="string">'[Q]'</span>;
VariablesDep{Row,2}=<span class="string">'[L/min]'</span>;
VariablesDep{Row,4}=<span class="string">'FLUJO'</span>;
Row=Row+1;
VariablesDep{Row,1}=<span class="string">'Q'</span>;
VariablesDep{Row,2}=VariablesDep{Row-1,2};

Row=Row+1;
VariablesDep{Row,1}=<span class="string">'Qa'</span>;
VariablesDep{Row,2}=<span class="string">'[L/min]'</span>;

<span class="keyword">if</span> strcmp(Datos_struct.Tipo,<span class="string">'BR'</span>)||<span class="keyword">...</span>
        strcmp(Datos_struct.Tipo,<span class="string">'SEMIBR'</span>)
    Row=Row+1;
    VariablesDep{Row,1}=<span class="string">'[V]'</span>;
    VariablesDep{Row,2}=<span class="string">'[L]'</span>;
    VariablesDep{Row,4}=<span class="string">'VOLUMEN'</span>;

    Row=Row+1;
    VariablesDep{Row,1}=<span class="string">'Vr'</span>;
    VariablesDep{Row,2}=<span class="string">'[L]'</span>;
<span class="keyword">end</span>

VariablesXZ=VariablesDep(cellfun(@(x)isempty(x),<span class="keyword">...</span>
    regexp(VariablesDep(:,1),<span class="string">'\W.+\W'</span>)),:);
VariablesXZ=VariablesXZ(cellfun(@(x)isempty(x),<span class="keyword">...</span>
    regexp(VariablesXZ(:,1),<span class="string">'ESTACIONARIO'</span>)),:);
<span class="keyword">if</span> strcmp(Datos_struct.Tipo,<span class="string">'PFR'</span>)
    VariablesXZ=[{<span class="string">'z'</span>,<span class="string">'cm'</span>,false,<span class="string">''</span>};<span class="keyword">...</span>
        {<span class="string">'t'</span>,<span class="string">'min'</span>,false,<span class="string">''</span>};VariablesXZ];
<span class="keyword">elseif</span> strcmp(Datos_struct.Tipo,<span class="string">'BR'</span>)||<span class="keyword">...</span>
        strcmp(Datos_struct.Tipo,<span class="string">'SEMIBR'</span>)
    VariablesXZ=[{<span class="string">'t'</span>,<span class="string">'min'</span>,false,<span class="string">''</span>};VariablesXZ];
<span class="keyword">elseif</span> strcmp(Datos_struct.Tipo,<span class="string">'CSTR'</span>)
    VariablesXZ=[{<span class="string">'t'</span>,<span class="string">'min'</span>,false,<span class="string">''</span>};VariablesXZ];
    Datos_struct.MostrarEstadosEstacionarios = VariablesDep{<span class="keyword">...</span>
        strcmp(VariablesDep(:,1),<span class="string">'ESTACIONARIO'</span>),3};
<span class="keyword">end</span>
VariablesIndep=[{<span class="string">'z'</span>,<span class="string">'cm'</span>,false,<span class="string">''</span>};{<span class="string">'t'</span>,<span class="string">'min'</span>,false,<span class="string">''</span>}];
Datos_struct.VariablesDep=VariablesDep;
Datos_struct.Variables_Todas=[VariablesIndep;VariablesDep];
Datos_struct.VariablesXZ=VariablesXZ;

<span class="comment">%</span>
<span class="comment">% Calculados</span>
Datos{strcmp(Datos,<span class="string">'delta_Hr_0'</span>),2}=mat2str(Datos_struct.delta_Hr_0);
Datos{strcmp(Datos,<span class="string">'Vr'</span>),2}=Datos_struct.Vr;
<span class="keyword">if</span> strcmp(Datos_struct.Tipo,<span class="string">'BR'</span>)
    Datos{strcmp(Datos,<span class="string">'A'</span>),2}=Datos_struct.A;
<span class="keyword">elseif</span> strcmp(Datos_struct.Tipo,<span class="string">'SEMIBR'</span>)
    Datos{strcmp(Datos,<span class="string">'A'</span>),2}=Datos_struct.A;
<span class="keyword">elseif</span> strcmp(Datos_struct.Tipo,<span class="string">'CSTR'</span>)
    Datos{strcmp(Datos,<span class="string">'A'</span>),2}=Datos_struct.A;
<span class="keyword">elseif</span> strcmp(Datos_struct.Tipo,<span class="string">'PFR'</span>)
    Datos{strcmp(Datos,<span class="string">'a'</span>),2}=Datos_struct.a;
<span class="keyword">end</span>

<span class="comment">%Compresible no estacionario no se ha implementado</span>
<span class="keyword">if</span> strcmp(Datos_struct.Tipo,<span class="string">'PFR'</span>) &amp;&amp; <span class="keyword">...</span>
        ~Datos_struct.Estacionario &amp;&amp; ~Datos_struct.Incompresible
    errRecord = MException(<span class="string">'InputError:Conditions'</span>,<span class="keyword">...</span>
        [<span class="string">'PFR, Flujo compresible, estado no estacionario,'</span>,<span class="keyword">...</span>
        <span class="string">' no implementado en esta versión'</span>]);
    throw(errRecord);
<span class="keyword">end</span>

Datos_struct.DatosCalc = Datos;
</pre><p class="footer"><br>
      Published with MATLAB® 7.13<br></p></div><!--
##### SOURCE BEGIN #####
function Datos_struct = obtenerDatos(Datos)

Datos_struct.Tipo = Datos{strcmp(Datos,'Tipo'),2};
Datos_struct.Incompresible = Datos{strcmp(Datos,'Incompresible'),2};
Datos_struct.Isot = Datos{strcmp(Datos,'Isot'),2};
if strcmp(Datos_struct.Tipo,'PFR')||...
        strcmp(Datos_struct.Tipo,'CSTR')
    Datos_struct.Estacionario = Datos{strcmp(Datos,'Estacionario'),2};
else
    Datos_struct.Estacionario = true;
end
Datos_struct.Coefs_esteq = eval(Datos{strcmp(Datos,'Coefs_esteq'),2});
Datos_struct.nReacs=size(Datos_struct.Coefs_esteq,1);
Datos_struct.nComps=size(Datos_struct.Coefs_esteq,2);
Datos_struct.delta_Hf = reshape(eval(Datos{strcmp(Datos,'delta_Hf'),2})*...
    1000,1,Datos_struct.nComps);
Datos_struct.delta_Hr_0 = reshape(Datos_struct.Coefs_esteq*...
    Datos_struct.delta_Hf',1,Datos_struct.nReacs);
Datos_struct.E = reshape(eval(Datos{strcmp(Datos,'E'),2}),1,...
    Datos_struct.nReacs);
Datos_struct.k0 = reshape(eval(Datos{strcmp(Datos,'k0'),2}),1,...
    Datos_struct.nReacs);
Datos_struct.T0ref = Datos{strcmp(Datos,'T0ref'),2};
Datos_struct.Exponentes_r = eval(Datos{strcmp(Datos,'Exponentes_r'),2});
Datos_struct.Ref_Rendimiento = Datos{strcmp(Datos,'Ref_Rendimiento'),2};
Datos_struct.Ref_Selectividad = Datos{strcmp(Datos,'Ref_Selectividad'),2};
Datos_struct.C0 = eval(Datos{strcmp(Datos,'C0'),2});
Datos_struct.C0 = reshape(Datos_struct.C0,1,numel(Datos_struct.C0));
Datos_struct.T0 = Datos{strcmp(Datos,'T0'),2};
if strcmp(Datos_struct.Tipo,'SEMIBR')||...
        strcmp(Datos_struct.Tipo,'CSTR')
    Datos_struct.C_t0 = eval(Datos{strcmp(Datos,'C_t0'),2});
    Datos_struct.C_t0 = ...
        reshape(Datos_struct.C_t0,1,numel(Datos_struct.C_t0));
    Datos_struct.T_t0 = Datos{strcmp(Datos,'T_t0'),2};
end
Datos_struct.Longitud = Datos{strcmp(Datos,'Longitud'),2};
Datos_struct.Diam = Datos{strcmp(Datos,'Diam'),2};
Datos_struct.Vr = Datos_struct.Longitud*pi/4*Datos_struct.Diam^2*1/1000;
Datos_struct.U = Datos{strcmp(Datos,'U'),2}*1055*1/60*9/5;
Datos_struct.Ta0 = Datos{strcmp(Datos,'Ta0'),2};
Datos_struct.Diam_a = Datos{strcmp(Datos,'Diam_a'),2};
Datos_struct.Qa0 = Datos{strcmp(Datos,'Qa0'),2};
Datos_struct.uza = Datos_struct.Qa0*1000/...
    (pi/4*(Datos_struct.Diam_a^2-Datos_struct.Diam^2));
if strcmp(Datos_struct.Tipo,'PFR')    
    Datos_struct.Co_Corriente = Datos{strcmp(Datos,'Co_Corriente'),2};
    if Datos_struct.Co_Corriente
        Datos_struct.factorCoContraCorriente = +1;
    else
        Datos_struct.factorCoContraCorriente = -1;
    end
    Datos_struct.a = 4/Datos_struct.Diam*1/30.48^2*1000;
    Datos_struct.Q0 = Datos{strcmp(Datos,'Q0'),2};
    Datos_struct.theta = Datos_struct.Vr/Datos_struct.Q0;
    Datos_struct.uz=Datos_struct.Q0*1000/(pi/4*Datos_struct.Diam^2);
    Datos_struct.timestep_factor = Datos{strcmp(Datos,'timestep_factor'),2};
elseif strcmp(Datos_struct.Tipo,'CSTR')
    Datos_struct.Longitud = 1.5*Datos_struct.Diam;
    Datos_struct.A = pi*Datos_struct.Diam*Datos_struct.Longitud*1/30.48^2;
    Datos_struct.Q0 = Datos{strcmp(Datos,'Q0'),2};
    Datos_struct.theta = Datos_struct.Vr/Datos_struct.Q0;
    Datos_struct.uz=Datos_struct.Q0*1000/(pi/4*Datos_struct.Diam^2);
    Datos_struct.Va = Datos_struct.Longitud*...
        pi/4*(Datos_struct.Diam_a^2-Datos_struct.Diam^2)*1/1000;
    Datos_struct.Tmax = Datos{strcmp(Datos,'Tmax'),2};
elseif strcmp(Datos_struct.Tipo,'BR')
    Datos_struct.Longitud = 1.5*Datos_struct.Diam;
    Datos_struct.A = pi*Datos_struct.Diam*Datos_struct.Longitud*1/30.48^2;
    Datos_struct.Va = Datos_struct.Longitud*...
        pi/4*(Datos_struct.Diam_a^2-Datos_struct.Diam^2)*1/1000;
elseif strcmp(Datos_struct.Tipo,'SEMIBR')
    Datos_struct.Longitud = 1.5*Datos_struct.Diam;
    Datos_struct.A = pi*Datos_struct.Diam*Datos_struct.Longitud*1/30.48^2;
    Datos_struct.Q0 = Datos{strcmp(Datos,'Q0'),2};
    Datos_struct.theta = Datos_struct.Vr/Datos_struct.Q0;
    Datos_struct.uz=Datos_struct.Q0*1000/(pi/4*Datos_struct.Diam^2);
    Datos_struct.Va = Datos_struct.Longitud*...
        pi/4*(Datos_struct.Diam_a^2-Datos_struct.Diam^2)*1/1000;    
end
Datos_struct.CpMolares = eval(Datos{strcmp(Datos,'Cp_Molares'),2})*1000;
Datos_struct.rhoCp_a = Datos{strcmp(Datos,'rhoCp_a'),2}*1000;
Datos_struct.tiempo_tot = Datos{strcmp(Datos,'tiempo_tot'),2};
Datos_struct.R = 8.3140;

Datos_struct.XMIN = Datos{strcmp(Datos,'XMIN'),2};
Datos_struct.XMAX = Datos{strcmp(Datos,'XMAX'),2};
Datos_struct.YMIN = Datos{strcmp(Datos,'YMIN'),2};
Datos_struct.YMAX = Datos{strcmp(Datos,'YMAX'),2};
Datos_struct.ZMIN = Datos{strcmp(Datos,'ZMIN'),2};
Datos_struct.ZMAX = Datos{strcmp(Datos,'ZMAX'),2};

characters=char(65:90);
Datos_struct.labels=cell(1,min(length(characters),...
    size(Datos_struct.Coefs_esteq,2)));
Datos_struct.labels_est=cell(1,min(length(characters),...
    size(Datos_struct.Coefs_esteq,2)));
for i=1:length(Datos_struct.labels)
    Datos_struct.labels{i}=characters(i);
end
for i=1:length(Datos_struct.labels_est)
    Datos_struct.labels_est{i}=[characters(i),'est'];
end

%
% Análisis reactivos - productos
encontrarReactivos = find(Datos_struct.Coefs_esteq<0);
[~,reactivosSonCompsNo] = ind2sub(size(Datos_struct.Coefs_esteq),...
    encontrarReactivos);
encontrarProductos = find(Datos_struct.Coefs_esteq>0);
[~,productosSonCompsNo] = ind2sub(size(Datos_struct.Coefs_esteq),...
    encontrarProductos);
Datos_struct.reactivosSonCompsNo=unique(reactivosSonCompsNo);
Datos_struct.productosSonCompsNo=unique(productosSonCompsNo);
Datos_struct.productosConSelectividad=Datos_struct.productosSonCompsNo(...
        Datos_struct.productosSonCompsNo~=...
        Datos_struct.Ref_Selectividad);
if isempty(Datos_struct.Ref_Selectividad)||...
        ~ismember(Datos_struct.Ref_Selectividad,...
        Datos_struct.productosSonCompsNo)
    Datos{strcmp(Datos,'Ref_Selectividad'),2}=...
        Datos_struct.productosSonCompsNo(1);
    Datos_struct.Ref_Selectividad=Datos_struct.productosSonCompsNo(1);
end
if isempty(Datos_struct.Ref_Rendimiento)||...
        ~ismember(Datos_struct.Ref_Rendimiento,...
        Datos_struct.reactivosSonCompsNo)
    Datos{strcmp(Datos,'Ref_Rendimiento'),2}=...
        Datos_struct.reactivosSonCompsNo(1);
    Datos_struct.Ref_Rendimiento=Datos_struct.reactivosSonCompsNo(1);
end


%
% Variables Dep
VariablesDep = cell(1,4);

Row=0+1;
if strcmp(Datos_struct.Tipo,'CSTR')
    VariablesDep{Row,1}='ESTACIONARIO';
    VariablesDep{Row,2}='NA';
    VariablesDep{Row,4}='';
    Row=Row+1;
end
VariablesDep{Row,1}='[C]';
VariablesDep{Row,2}='gmol/L';
VariablesDep{Row,4}='CONCENTRACION';
for i=1:Datos_struct.nComps
    Row=Row+1;
    VariablesDep{Row,1}=['C',Datos_struct.labels{i}];
    VariablesDep{Row,2}=VariablesDep{Row-i,2};    
end
Row=Row+1;
VariablesDep{Row,1}='[T]';
VariablesDep{Row,2}='K';
VariablesDep{Row,4}='TEMPERATURA';
Row=Row+1;
VariablesDep{Row,1}='T';
VariablesDep{Row,2}=VariablesDep{Row-1,2};
Row=Row+1;
VariablesDep{Row,1}='Ta';
VariablesDep{Row,2}=VariablesDep{Row-1,2};
Row=Row+1;
VariablesDep{Row,1}='[r]';
VariablesDep{Row,2}='mol/(L*min)';
VariablesDep{Row,4}='RAPIDEZ';
for i=1:Datos_struct.nReacs
    Row=Row+1;
    VariablesDep{Row,1}=['r',int2str(i)];
    VariablesDep{Row,2}=VariablesDep{Row-i,2};
end
Row=Row+1;
VariablesDep{Row,1}='[k]';
VariablesDep{Row,2}='(1/min){\times}(gmol/L)^{(1-{\Sigma}_j({\alpha}_{ij}))}';
VariablesDep{Row,4}='CONSTANTE DE RAPIDEZ';
for i=1:Datos_struct.nReacs
    Row=Row+1;
    VariablesDep{Row,1}=['k',int2str(i)];
    VariablesDep{Row,2}=['(1/min){\times}(gmol/L)^{',...
        num2str(1-sum(Datos_struct.Exponentes_r(i,:))),'}'];
end
Row=Row+1;
VariablesDep{Row,1}='[q]';
VariablesDep{Row,2}='K/min';
VariablesDep{Row,4}='CALOR/rhoCp';
Row=Row+1;
VariablesDep{Row,1}='qgen';
VariablesDep{Row,2}=VariablesDep{Row-1,2};
Row=Row+1;
VariablesDep{Row,1}='qrem';
VariablesDep{Row,2}=VariablesDep{Row-1,2};
if strcmp(Datos_struct.Tipo,'PFR')
    Row=Row+1;
    VariablesDep{Row,1}='[q_z]';
    VariablesDep{Row,2}='K/cm';
    VariablesDep{Row,4}='CALOR/rhoCp*Az/Q';
    Row=Row+1;
    VariablesDep{Row,1}='qgen_z';
    VariablesDep{Row,2}=VariablesDep{Row-1,2};
    Row=Row+1;
    VariablesDep{Row,1}='qrem_z';
    VariablesDep{Row,2}=VariablesDep{Row-1,2};
end
Row=Row+1;
VariablesDep{Row,1}='[X]';
VariablesDep{Row,2}='[adim]';
VariablesDep{Row,4}='CONVERSION';
for i=1:length(Datos_struct.reactivosSonCompsNo)
    Row=Row+1;
    VariablesDep{Row,1}=['X',...
        Datos_struct.labels{Datos_struct.reactivosSonCompsNo(i)}];
    VariablesDep{Row,2}=VariablesDep{Row-i,2};
end
Row=Row+1;
VariablesDep{Row,1}='[Y]';
VariablesDep{Row,2}='[adim]';
VariablesDep{Row,4}='RENDIMIENTO POR ALIMENTACIÓN';
for i=1:length(Datos_struct.productosSonCompsNo)
    Row=Row+1;
    VariablesDep{Row,1}=['Y',...
        Datos_struct.labels{Datos_struct.productosSonCompsNo(i)}];
    VariablesDep{Row,2}='[adim]';
end
Row=Row+1;
VariablesDep{Row,1}='[Yconsumo]';
VariablesDep{Row,2}='[adim]';
VariablesDep{Row,4}='RENDIMIENTO POR CONSUMO';
for i=1:length(Datos_struct.productosSonCompsNo)
    Row=Row+1;
    VariablesDep{Row,1}=['Yconsumo',...
        Datos_struct.labels{Datos_struct.productosSonCompsNo(i)}];
    VariablesDep{Row,2}='[adim]';
end
Row=Row+1;
VariablesDep{Row,1}='[S]';
VariablesDep{Row,2}='[adim]';
VariablesDep{Row,4}='SELECTIVIDAD';
for i=1:length(Datos_struct.productosConSelectividad)
    Row=Row+1;
    VariablesDep{Row,1}=['S',...
        Datos_struct.labels{Datos_struct.productosConSelectividad(i)}];
    VariablesDep{Row,2}='[adim]';
end

if strcmp(Datos_struct.Tipo,'PFR')
    Row=Row+1;
    VariablesDep{Row,1}='[F]';
    VariablesDep{Row,2}='gmol/min';
    VariablesDep{Row,4}='FLUJO MOLAR';
    for i=1:Datos_struct.nComps
        Row=Row+1;
        VariablesDep{Row,1}=['F',Datos_struct.labels{i}];
        VariablesDep{Row,2}=VariablesDep{Row-i,2};
    end 
end

Row=Row+1;
VariablesDep{Row,1}='[Q]';
VariablesDep{Row,2}='[L/min]';
VariablesDep{Row,4}='FLUJO';
Row=Row+1;
VariablesDep{Row,1}='Q';
VariablesDep{Row,2}=VariablesDep{Row-1,2};

Row=Row+1;
VariablesDep{Row,1}='Qa';
VariablesDep{Row,2}='[L/min]';

if strcmp(Datos_struct.Tipo,'BR')||...
        strcmp(Datos_struct.Tipo,'SEMIBR')
    Row=Row+1;
    VariablesDep{Row,1}='[V]';
    VariablesDep{Row,2}='[L]';
    VariablesDep{Row,4}='VOLUMEN';
    
    Row=Row+1;
    VariablesDep{Row,1}='Vr';
    VariablesDep{Row,2}='[L]';
end

VariablesXZ=VariablesDep(cellfun(@(x)isempty(x),...
    regexp(VariablesDep(:,1),'\W.+\W')),:);
VariablesXZ=VariablesXZ(cellfun(@(x)isempty(x),...
    regexp(VariablesXZ(:,1),'ESTACIONARIO')),:);
if strcmp(Datos_struct.Tipo,'PFR')
    VariablesXZ=[{'z','cm',false,''};...
        {'t','min',false,''};VariablesXZ];
elseif strcmp(Datos_struct.Tipo,'BR')||...
        strcmp(Datos_struct.Tipo,'SEMIBR')
    VariablesXZ=[{'t','min',false,''};VariablesXZ];
elseif strcmp(Datos_struct.Tipo,'CSTR')
    VariablesXZ=[{'t','min',false,''};VariablesXZ];
    Datos_struct.MostrarEstadosEstacionarios = VariablesDep{...
        strcmp(VariablesDep(:,1),'ESTACIONARIO'),3};
end
VariablesIndep=[{'z','cm',false,''};{'t','min',false,''}];
Datos_struct.VariablesDep=VariablesDep;
Datos_struct.Variables_Todas=[VariablesIndep;VariablesDep];
Datos_struct.VariablesXZ=VariablesXZ;

%
% Calculados
Datos{strcmp(Datos,'delta_Hr_0'),2}=mat2str(Datos_struct.delta_Hr_0);
Datos{strcmp(Datos,'Vr'),2}=Datos_struct.Vr;
if strcmp(Datos_struct.Tipo,'BR')
    Datos{strcmp(Datos,'A'),2}=Datos_struct.A;
elseif strcmp(Datos_struct.Tipo,'SEMIBR')
    Datos{strcmp(Datos,'A'),2}=Datos_struct.A;
elseif strcmp(Datos_struct.Tipo,'CSTR')
    Datos{strcmp(Datos,'A'),2}=Datos_struct.A;
elseif strcmp(Datos_struct.Tipo,'PFR')
    Datos{strcmp(Datos,'a'),2}=Datos_struct.a;
end
    
%Compresible no estacionario no se ha implementado
if strcmp(Datos_struct.Tipo,'PFR') && ...
        ~Datos_struct.Estacionario && ~Datos_struct.Incompresible
    errRecord = MException('InputError:Conditions',...
        ['PFR, Flujo compresible, estado no estacionario,',...
        ' no implementado en esta versión']);
    throw(errRecord);
end

Datos_struct.DatosCalc = Datos;
##### SOURCE END #####
--></body></html>